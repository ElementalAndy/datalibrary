language: cpp
compiler:
  - gcc
  - clang

before_install:
  - sudo apt-get update -qq
  - sudo apt-get install -qq libc6-dev-i386 g++-multilib

install:
  - git clone https://github.com/matricks/bam.git
  - cd bam
  - ./make_unix.sh
  - cd ..

script:
  - bam/bam compiler=$CC platform=linux_x86 config=debug -r sc test
  - bam/bam compiler=$CC platform=linux_x86 config=release -r sc test
  - bam/bam compiler=$CC platform=linux_x86_64 config=debug -r sc test
  - bam/bam compiler=$CC platform=linux_x86_64 config=release -r sc test
